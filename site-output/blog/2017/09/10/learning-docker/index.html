<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <title>
      Learning Docker &middot; Rémy G
  </title>
  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />
  <!-- Additional head bits without overriding original head -->
</head>
  <body class="rg-post">
    <div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        Rémy G
      </a>
    </div>
    <div class="tagline">
      <ul>
        <li>Software Developer</li>
        <li>Enthusiast</li>
        <li>Tinkerer</li>
      </ul>
    </div>
  </header>
  <nav id="sidebar-nav-links">
    <a class="home-link "
        href="/">Home</a>
  <a class="page-link" href="/blog/">Blog</a>
    <a class="page-link "
        href="/projects/">Projects</a>
  <!-- Optional additional links to insert in sidebar nav -->
<a class="page-link" href="/about/">About Me</a>
<a class="page-link" href="/contact/">Contact</a>
</nav>
  <nav id="sidebar-icon-links">
  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags/">
      <svg fill="#000000" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Tags"
       href="/search/">
      <svg fill="#000000" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  <!-- Optional additional links to insert for icons links -->
<a id="github-link"
   class="icon"
   title="Github" aria-label="Tags"
   href="https://github.com/remyg">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 28"><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-0.609 0.109-0.828-0.266-0.828-0.578 0-0.391 0.016-1.687 0.016-3.297 0-1.125-0.375-1.844-0.812-2.219 2.672-0.297 5.484-1.313 5.484-5.922 0-1.313-0.469-2.375-1.234-3.219 0.125-0.313 0.531-1.531-0.125-3.187-1-0.313-3.297 1.234-3.297 1.234-0.953-0.266-1.984-0.406-3-0.406s-2.047 0.141-3 0.406c0 0-2.297-1.547-3.297-1.234-0.656 1.656-0.25 2.875-0.125 3.187-0.766 0.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-0.344 0.313-0.656 0.844-0.766 1.609-0.688 0.313-2.438 0.844-3.484-1-0.656-1.141-1.844-1.234-1.844-1.234-1.172-0.016-0.078 0.734-0.078 0.734 0.781 0.359 1.328 1.75 1.328 1.75 0.703 2.141 4.047 1.422 4.047 1.422 0 1 0.016 1.937 0.016 2.234 0 0.313-0.219 0.688-0.828 0.578-4.766-1.594-8.203-6.094-8.203-11.391 0-6.625 5.375-12 12-12zM4.547 19.234c0.031-0.063-0.016-0.141-0.109-0.187-0.094-0.031-0.172-0.016-0.203 0.031-0.031 0.063 0.016 0.141 0.109 0.187 0.078 0.047 0.172 0.031 0.203-0.031zM5.031 19.766c0.063-0.047 0.047-0.156-0.031-0.25-0.078-0.078-0.187-0.109-0.25-0.047-0.063 0.047-0.047 0.156 0.031 0.25 0.078 0.078 0.187 0.109 0.25 0.047zM5.5 20.469c0.078-0.063 0.078-0.187 0-0.297-0.063-0.109-0.187-0.156-0.266-0.094-0.078 0.047-0.078 0.172 0 0.281s0.203 0.156 0.266 0.109zM6.156 21.125c0.063-0.063 0.031-0.203-0.063-0.297-0.109-0.109-0.25-0.125-0.313-0.047-0.078 0.063-0.047 0.203 0.063 0.297 0.109 0.109 0.25 0.125 0.313 0.047zM7.047 21.516c0.031-0.094-0.063-0.203-0.203-0.25-0.125-0.031-0.266 0.016-0.297 0.109s0.063 0.203 0.203 0.234c0.125 0.047 0.266 0 0.297-0.094zM8.031 21.594c0-0.109-0.125-0.187-0.266-0.172-0.141 0-0.25 0.078-0.25 0.172 0 0.109 0.109 0.187 0.266 0.172 0.141 0 0.25-0.078 0.25-0.172zM8.937 21.438c-0.016-0.094-0.141-0.156-0.281-0.141-0.141 0.031-0.234 0.125-0.219 0.234 0.016 0.094 0.141 0.156 0.281 0.125s0.234-0.125 0.219-0.219z"></path>
</svg>
</a>
<a id="twitter-link"
   class="icon"
   title="Twitter" aria-label="Tags"
   href="https://twitter.com/remygardette">
  <svg viewbox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"/></svg>
</a>
</nav>
  <p>
  &copy; 2018.
  <a href="/license">License.</a>
</p>
</div>
    <main class="container">
      <header>
  <h1 class="post-title">Learning Docker</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">10 Sep 2017</span>
  <span class="post-categories">
      &bull;
        blog
      &bull;
        <a href="/category/development/">
          Development
        </a>
  </span>
</div>
  <div class="post-body">
    <h2 id="what-is-docker">What is Docker?</h2>
<p>From the official <a href="https://www.docker.com/what-docker">Docker website</a>:</p>
<blockquote>
  <p>Docker is the world’s leading software container platform. Developers use Docker to eliminate “works on my machine” problems when collaborating on code with co-workers. Operators use Docker to run and manage apps side-by-side in isolated containers to get better compute density. Enterprises use Docker to build agile software delivery pipelines to ship new features faster, more securely and with confidence for both Linux, Windows Server, and Linux-on-mainframe apps.</p>
</blockquote>
<!--more-->
<p>Docker allows you to run any application in a <strong>Container</strong>, which can be compared to a very lightweight VM, because it doesn’t include a guest OS, and uses the host OS and the Docker layer. A good representation of the difference between a Container and a Virtual Machine can be found <a href="https://www.docker.com/what-container#comparing">here</a>.</p>
<p>A Docker container runs an instance of a Docker <strong>image</strong>, which is a set of layers that describe how the container will behave. An image is built from a Dockerfile, which contains the set of layers (or instructions).</p>
<p>A simple Dockerfile can look like this:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM alpine
CMD ["echo", "hello world"]
</code></pre></div></div>
<p>When run, this will instantiate an Alpine (very lightweight Linux distribution) container, and run the command <code class="highlighter-rouge">echo hello world</code> on it.</p>
<h2 id="installing-docker">Installing Docker</h2>
<p>Docker comes in 2 editions: EE (Enterprise Edition) and CE (Community Edition)</p>
<p>It’s really easy to install Docker CE on a Linux OS. You can find the instructions <a href="https://docs.docker.com/engine/installation/">on the official website</a>, but there is an even easier way:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sSL https://get.docker.com | sh
</code></pre></div></div>
<p>That’s it. They’ve created an installation script that will handle everything for you. Of course you can check the script by going to <a href="https://get.docker.com">https://get.docker.com</a>, but you can see it’s pretty straightforward.
The script is compatible with the following distributions:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>centos
fedora
debian
ubuntu
raspbian
</code></pre></div></div>
<h2 id="interactive-docker-tutorials">Interactive Docker tutorials</h2>
<p>There are several online interactive tutorials to start working with Docker. These are some I’ve tried:</p>
<ul>
  <li>http://training.play-with-docker.com/</li>
  <li>https://www.katacoda.com/courses/docker</li>
</ul>
<p>These tutorials will guide you through your first steps on Docker, like:</p>
<ul>
  <li>running your first container</li>
  <li>developing and deploying a web application</li>
  <li>deploying a multi-service application in Docker Swarm (a swarm is a group of multiple slave nodes that are orchestrated by a master node, which handles scaling, multi-host networking,…)</li>
  <li>working with <code class="highlighter-rouge">docker-compose</code> (a tool for defining and running multi-container applications)</li>
</ul>
<h2 id="basic-commands">Basic commands</h2>
<h3 id="running-an-existing-image">Running an existing image</h3>
<p>We will start with running an existing image: <code class="highlighter-rouge">hello-world</code>.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run hello-world
</code></pre></div></div>
<p>This command will try to find the image <code class="highlighter-rouge">hello-world</code> locally. If not found, Docker will retrieve (pull) it from the Docker Hub, then create a new container to run the image.</p>
<h3 id="building-a-new-image">Building a new image</h3>
<p>To build your own Docker image, you need to start by creating a Dockerfile. Just create a new file named <code class="highlighter-rouge">Dockerfile</code>, with the following content:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM alpine
CMD ["echo", "hello world"]
</code></pre></div></div>
<p>This means that our image will be based on the <code class="highlighter-rouge">alpine</code> image, and it’s first instruction will be to run the command <code class="highlighter-rouge">echo hello world</code>.</p>
<p>To build this image, go to the directory where the Dockerfile is situated, and run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build .
</code></pre></div></div>
<p>This will build the image, and assign an ID to it. If you want to see the list of your local image, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image ls
</code></pre></div></div>
<p>This will produce an output like:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>REPOSITORY           TAG             IMAGE ID            CREATED             SIZE
&lt;none&gt;               &lt;none&gt;          88a7f54c5478        9 minutes ago       3.97MB
</code></pre></div></div>
<p>As you can see, our image has been built and assigned an ID, but it’s not very easy to remember and use. You can assign a name and a tag to your image:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build . -t my-hello-world:0.1
</code></pre></div></div>
<p>Now, listing your images will produce:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>REPOSITORY           TAG             IMAGE ID            CREATED             SIZE
my-hello-world       0.1             88a7f54c5478        11 minutes ago      3.97MB
</code></pre></div></div>
<p>And you can run your local image with:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run my-hello-world
</code></pre></div></div>
<h3 id="working-with-containers">Working with containers</h3>
<p>After running an image (which creates a container), you can list your active containers with:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container ls
</code></pre></div></div>
<p>or</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
</code></pre></div></div>
<p>If you’ve only launched the example image, nothing will appear, because the container shuts down immediately after the execution. You can display all the containers that have been instantiated with the option <code class="highlighter-rouge">-a</code>. You can now see the history of your containers:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS                      PORTS                 NAMES
a4cdb876df53        my-hello-world:0.1             "echo 'hello world'"     2 minutes ago       Exited (0) 2 minutes ago                          blissful_murdock
5f2e1d383f74        my-hello-world                 "echo 'hello world'"     2 minutes ago       Exited (0) 2 minutes ago                          compassionate_davinci
b4e9eceae360        hello-world                    "/hello"                 12 minutes ago      Exited (0) 12 minutes ago                         suspicious_hermann
</code></pre></div></div>
<p>To stop a running container named <code class="highlighter-rouge">blissful_murdock</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stop blissful_murdock
</code></pre></div></div>
<p>To remove a stopped container:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rm blissful_murdock
</code></pre></div></div>
<h2 id="my-next-steps">My next steps</h2>
<p>I’ve described the basics of Docker. The next step I’ve taken is to host my Jekyll blog on an Nginx container, hosted on a RaspberryPi. This will be the subject of a following post.</p>
<p>I also intend to start working on Java development with Docker, and will probably write on that as well.</p>
<p><img src="http://www.commitstrip.com/wp-content/uploads/2016/06/Strip-Discussion-Docker-english650final-1.jpg" alt="" /></p>
<div class="post-tags">
    <a href="/tags/#docker">
      <span class="icon">
        <svg fill="#000000" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">docker</span>
    </a>
</div>
    <footer>
      <a href="https://remyg.fr/about/#want-to-help" class="btn btn-support">Support me</a>
    </footer>
  </div>
  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
      <li>
        <h3>
          <a href="/blog/2018/07/29/nginx-reverse-proxy/">
            NGINX Reverse Proxy
            <small>29 Jul 2018</small>
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href="/blog/2018/05/13/sending-temperature-data-from-esp8266-to-mqtt/">
            Sending temperature data from an ESP8266 to MQTT
            <small>13 May 2018</small>
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href="/blog/2018/05/01/esp8266-temperature-display/">
            ESP8266 Temperature Display
            <small>01 May 2018</small>
          </a>
        </h3>
      </li>
  </ul>
</section>
</div>
    </main>
    <!-- Optional footer content -->
  </body>
</html>
