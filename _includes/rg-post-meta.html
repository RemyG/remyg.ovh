<div class="post-meta">
  <time class="dt-published post-date" datetime="{{ include.post.date | date: '%Y-%m-%d %H:%M:%S' }}">{{ include.post.date | date_to_string }},</time>
  {% if include.post.update-date %}
  <time class="dt-updated post-date" datetime="{{ include.post.update-date | date: '%Y-%m-%d %H:%M:%S' }}"><i>updated on {{ include.post.update-date | date_to_string }}</i>,</time>
  {% endif %}
  by <a class="post-author p-author h-card" href="{{ site.url }}">{{ site.nickname }}</a>
  <span class="post-categories">
    {% for category in include.post.categories %}
      {% if category != "blog" %}
        &bull;

        {% comment %}
          Check if this category has a corresponding page before decide
          to link to it. This is an O(n^2) operations so consider removing
          it and linking for all categories (or no categories) if this
          site has a lot of pages and/or a lot of categories.
        {% endcomment %}
        {% assign category_page = false %}
        {% for node in site.pages %}
          {% if node.category == category or node.title == category %}
            {% assign category_page = node %}
          {% endif %}
        {% endfor %}

        {% if category_page %}
          <a href="{{ site.baseurl }}{{ category_page.url }}">
            {{ category }}
          </a>
        {% else %}
          {{ category }}
        {% endif %}
      {% endif %}
    {% endfor %}
  </span>
</div>
